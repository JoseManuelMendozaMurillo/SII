{% extends "Layout/Template/desarrollo_academico.twig.html" %}

{% block title %} Lista aspirantes {% endblock %}

{% block styles %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.3.1/jquery.bootgrid.min.css"
    integrity="sha512-WBBdLBZSQGm9JN1Yut45Y9ijfFANbcOX3G+/A5+oO8W2ZWASp3NkPrG8mgr8QvGviyLoAz8y09l7SJ1dt0as7g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

<style>
    .custom-height {
        min-height: 25vh;
        border-radius: 10px;
        box-shadow: 5px 5px 5px 5px rgba(0, 0, 0, 0.082);
    }

    .custom-button {
        min-width: 17vh;
    }

    /* Estilo para la barra de búsqueda */
    .actionBar {
        display: flex;
        align-items: center;
        background-color: #f0f0f0;
        border: 1px solid #ccc;
        padding: 5px;
        border-radius: 5px;
        margin-bottom: 10px;
    }

    /* Estilo para el campo de entrada de búsqueda */
    .search-field input[type="text"] {
        flex-grow: 1;
        border: none;
        padding: 5px;
        outline: none;
    }

    .dropdown-toggle {
        visibility: hidden;
    }

    .pagination {
        display: flex;
        align-items: center;
        /* Alinea verticalmente los elementos dentro del contenedor de paginación */
    }

    /* Estilo para los botones de paginación */
    .button {
        margin-right: 5px;
        padding: 5px 10px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    /* Estilo para el botón de página activa */
    .active {
        background-color: #0056b3;
    }

    .btn-primary svg {
        font-size: 80px;
    }
</style>


{% endblock %}

{% block content %}

<div class="conatiner-fluid content-inner mt-n5 py-0 ">
    <div>
        <div class="row">

            <div class="col-lg-4 col-md-6" bis_skin_checked="1">
                <div class="card custom-height" bis_skin_checked="1">
                    <div class="card-body d-grid align-items-center" bis_skin_checked="1">
                        <div class="d-flex justify-content-between align-items-center" bis_skin_checked="1">
                            <div class="bg-info text-white rounded p-3" bis_skin_checked="1">
                                <svg class="icon-20" xmlns="http://www.w3.org/2000/svg" width="20px" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z">
                                    </path>
                                </svg>
                            </div>
                            <div class="text-end" bis_skin_checked="1">
                                <h2 class="counter" style="visibility: visible;">{{numTotalAsp}}</h2>
                                Total de aspirantes
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6" bis_skin_checked="1">
                <div class="card custom-height" bis_skin_checked="1">
                    <div class="card-body d-grid align-items-center" bis_skin_checked="1">
                        <div class="d-flex justify-content-between align-items-center" bis_skin_checked="1">
                            <div class="bg-soft-success rounded p-3" bis_skin_checked="1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                                    <g id="Grupo_155" data-name="Grupo 155" transform="translate(-1151 -3704)">
                                        <path id="Trazado_40" data-name="Trazado 40"
                                            d="M11,15a4,4,0,1,0-4-4A4,4,0,0,0,11,15Zm5-4a5,5,0,1,1-5-5A5,5,0,0,1,16,11Z"
                                            transform="translate(1151 3704)" fill-rule="evenodd" />
                                        <path id="Trazado_42" data-name="Trazado 42"
                                            d="M1,0A1,1,0,0,0,0,1V9a1,1,0,0,0,1,1H5.083a6.062,6.062,0,0,1,.258-1H3A2,2,0,0,0,1,7V3A2,2,0,0,0,3,1H13a2,2,0,0,0,2,2V6.528a6.02,6.02,0,0,1,1,1.154V1a1,1,0,0,0-1-1Z"
                                            transform="translate(1151 3704)" />
                                        <path id="Trazado_43" data-name="Trazado 43"
                                            d="M10,5.083,10,5A2,2,0,1,0,6.868,6.65,5.982,5.982,0,0,1,10,5.083Z"
                                            transform="translate(1151 3704)" />
                                        <path id="check"
                                            d="M8.847,4.906a.519.519,0,0,1,.74.726L6.828,9.084a.519.519,0,0,1-.747.014L4.25,7.268a.519.519,0,1,1,.733-.733L6.432,7.982l2.4-3.061.014-.015Z"
                                            transform="translate(1155.096 3707.994)" />
                                    </g>
                                </svg>
                            </div>
                            <div class="text-end" bis_skin_checked="1">
                                <h2 class="counter" style="visibility: visible;">{{numAspPaymentPaid}}</h2>
                                Pagados
                            </div>
                        </div>

                        <div class="mt-4">
                            <div class="text-center">{{percent}}%</div>
                            <div class="progress bg-soft-info shadow-none w-100" style="height: 6px">
                                <div class="progress-bar bg-info" data-toggle="progress-bar" role="progressbar"
                                    aria-valuenow="{{percent}}" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6" bis_skin_checked="1">
                <div class="card custom-height" bis_skin_checked="1">
                    <div class="card-body d-grid align-items-center" bis_skin_checked="1">
                        <div class="d-flex justify-content-between align-items-center" bis_skin_checked="1">
                            <div class="bg-soft-danger rounded p-3" bis_skin_checked="1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                                    <g id="Grupo_156" data-name="Grupo 156" transform="translate(-1132 -3704)">
                                        <path id="Trazado_47" data-name="Trazado 47"
                                            d="M7,9.32a.617.617,0,1,1,.617.617A.617.617,0,0,1,7,9.32Zm.061-3.708a.559.559,0,1,1,1.111,0L7.958,7.778a.341.341,0,0,1-.679,0Z"
                                            transform="translate(1135.378 3707.505)" />
                                        <path id="Trazado_44" data-name="Trazado 44"
                                            d="M11,15a4,4,0,1,0-4-4A4,4,0,0,0,11,15Zm5-4a5,5,0,1,1-5-5A5,5,0,0,1,16,11Z"
                                            transform="translate(1132 3704)" fill-rule="evenodd" />
                                        <path id="Trazado_45" data-name="Trazado 45"
                                            d="M1,0A1,1,0,0,0,0,1V9a1,1,0,0,0,1,1H5.083a6.062,6.062,0,0,1,.258-1H3A2,2,0,0,0,1,7V3A2,2,0,0,0,3,1H13a2,2,0,0,0,2,2V6.528a6.02,6.02,0,0,1,1,1.154V1a1,1,0,0,0-1-1Z"
                                            transform="translate(1132 3704)" />
                                        <path id="Trazado_46" data-name="Trazado 46"
                                            d="M10,5.083,10,5A2,2,0,1,0,6.868,6.65,5.982,5.982,0,0,1,10,5.083Z"
                                            transform="translate(1132 3704)" />
                                    </g>
                                </svg>
                            </div>
                            <div class="text-end" bis_skin_checked="1">
                                <h2 class="counter" style="visibility: visible;">{{numAspPaymentPending}}</h2>
                                Faltantes por pagar
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <!-- Tarjeta de Aspirantes que han hecho su pago-->
        <div class=" ">
            <div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card"
                            style="border-radius: 10px; box-shadow: 5px 5px 5px 5px rgba(0, 0, 0, 0.082);">
                            <div class="card-body">
                                <h5 class="card-title">Aspirantes que han hecho su pago</h5>
                                <!-- Barra de búsqueda y filtro -->
                                <div class="row ">
                                    <div class="col-lg-12 text-end p-2">
                                        <a class="btn btn-primary bg-soft-success"
                                            href="{{base_url('des-academico/aspirantes/exportar-reporte')}}"><svg
                                                xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="black"
                                                class="bi bi-filetype-xlsx" viewBox="0 0 16 16">
                                                <path fill-rule="evenodd"
                                                    d="M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5L14 4.5ZM7.86 14.841a1.13 1.13 0 0 0 .401.823c.13.108.29.192.479.252.19.061.411.091.665.091.338 0 .624-.053.858-.158.237-.105.416-.252.54-.44a1.17 1.17 0 0 0 .187-.656c0-.224-.045-.41-.135-.56a1.002 1.002 0 0 0-.375-.357 2.028 2.028 0 0 0-.565-.21l-.621-.144a.97.97 0 0 1-.405-.176.37.37 0 0 1-.143-.299c0-.156.061-.284.184-.384.125-.101.296-.152.513-.152.143 0 .266.023.37.068a.624.624 0 0 1 .245.181.56.56 0 0 1 .12.258h.75a1.093 1.093 0 0 0-.199-.566 1.21 1.21 0 0 0-.5-.41 1.813 1.813 0 0 0-.78-.152c-.293 0-.552.05-.777.15-.224.099-.4.24-.527.421-.127.182-.19.395-.19.639 0 .201.04.376.123.524.082.149.199.27.351.367.153.095.332.167.54.213l.618.144c.207.049.36.113.462.193a.387.387 0 0 1 .153.326.512.512 0 0 1-.085.29.558.558 0 0 1-.255.193c-.111.047-.25.07-.413.07-.117 0-.224-.013-.32-.04a.837.837 0 0 1-.249-.115.578.578 0 0 1-.255-.384h-.764Zm-3.726-2.909h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415H1.5l1.24-2.016-1.228-1.983h.931l.832 1.438h.036l.823-1.438Zm1.923 3.325h1.697v.674H5.266v-3.999h.791v3.325Zm7.636-3.325h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.438h.036l.823-1.438Z" />
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                                <!--<p></p>-->
                                <div class="table-responsive">
                                    <!-- Tabla de datos -->
                                    <table id="datatable" class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th data-column-id="id" data-visible="false">id
                                                </th>
                                                <th data-column-id="numero_solicitud" data-sortable="false">Número de
                                                    Solicitud</th>
                                                <th data-column-id="nombre">Nombre</th>
                                                <th data-column-id="email" data-searchable="false"
                                                    data-sortable="false">
                                                    Correo electronico</th>
                                                <th data-column-id="curp" data-sortable="false">CURP
                                                </th>
                                                <!-- Otros encabezados de columna -->
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for aspirante in aspirantes %}
                                            <tr>
                                                <td>{{ aspirante.id}}</td>
                                                <td>{{ aspirante.noSolicitude }}</td>
                                                <td>{{ aspirante.name }}</td>
                                                <td>{{ aspirante.email }}</td>
                                                <td>{{ aspirante.curp }}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
<!-- JQuery -->
<script src="{{base_url('Vendor/Parsley/jquery-3.7.0.min.js')}}"></script>

<!-- Bootgrid -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.3.1/jquery.bootgrid.min.js"
    integrity="sha512-ut+jq2MDKjyWKK7rpEbyHjJ2kDBDO58DLFw4xJobqvS2kUgx4DJbj3OLjwk4F0pKtcxUoUIRS6esQVhh4fmWNA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script>
    $(document).ready(function () {
        var $tabla = $("#datatable").bootgrid({
            caseSensitive: false,
            ajax: false, // Desactivamos la solicitud AJAX
            labels: {
                noResults: "No hay resultados",
                loading: "Cargando...",
                infos: "Mostrando {{ctx.start}} al {{'{{ctx.end}}'}} de {{'{{ctx.total}}'}} registros",
                search: "Buscar",
                refresh: "Recarga",

            },
            pagination: true,
            rowCount: 10,
            searchSettings: {
                delay: 100,
                characters: 3,
                searchOnEnterKey: true,
                searchOnKeyPress: true,
            },
        });
    });

</script>
{% endblock %}