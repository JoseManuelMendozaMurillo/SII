{% extends "Layout/Template/desarrollo_academico.twig.html" %}

{% block title %} Lista aspirantes {% endblock %}

{% block styles %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.3.1/jquery.bootgrid.min.css"
    integrity="sha512-WBBdLBZSQGm9JN1Yut45Y9ijfFANbcOX3G+/A5+oO8W2ZWASp3NkPrG8mgr8QvGviyLoAz8y09l7SJ1dt0as7g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

<style>
    .custom-height {
        min-height: 25vh;
        border-radius: 10px;
        box-shadow: 5px 5px 5px 5px rgba(0, 0, 0, 0.082);
    }

    .custom-button {
        min-width: 17vh;
    }

    /* Estilo para la barra de búsqueda */
    .actionBar {
        display: flex;
        align-items: center;
        background-color: #f0f0f0;
        border: 1px solid #ccc;
        padding: 5px;
        border-radius: 5px;
        margin-bottom: 10px;
    }

    /* Estilo para el campo de entrada de búsqueda */
    .search-field input[type="text"] {
        flex-grow: 1;
        border: none;
        padding: 5px;
        outline: none;
    }

    .dropdown-toggle {
        visibility: hidden;
    }

    .pagination {
        display: flex;
        align-items: center;
        /* Alinea verticalmente los elementos dentro del contenedor de paginación */
    }

    /* Estilo para los botones de paginación */
    .button {
        margin-right: 5px;
        padding: 5px 10px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    /* Estilo para el botón de página activa */
    .active {
        background-color: #0056b3;
    }
</style>


{% endblock %}

{% block content %}

<div class="conatiner-fluid content-inner mt-n5 py-0 ">
    <div>
        <div class="row">

            <div class="col-lg-4 col-md-6" bis_skin_checked="1">
                <div class="card custom-height" bis_skin_checked="1">
                    <div class="card-body d-grid align-items-center" bis_skin_checked="1">
                        <div class="d-flex justify-content-between align-items-center" bis_skin_checked="1">
                            <div class="bg-info text-white rounded p-3" bis_skin_checked="1">
                                <svg class="icon-20" xmlns="http://www.w3.org/2000/svg" width="20px" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z">
                                    </path>
                                </svg>
                            </div>
                            <div class="text-end" bis_skin_checked="1">
                                <h2 class="counter" style="visibility: visible;">{{numTotalAsp}}</h2>
                                Total de aspirantes
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6" bis_skin_checked="1">
                <div class="card custom-height" bis_skin_checked="1">
                    <div class="card-body d-grid align-items-center" bis_skin_checked="1">
                        <div class="d-flex justify-content-between align-items-center" bis_skin_checked="1">
                            <div class="bg-soft-success rounded p-3" bis_skin_checked="1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                                    <g id="Grupo_155" data-name="Grupo 155" transform="translate(-1151 -3704)">
                                        <path id="Trazado_40" data-name="Trazado 40"
                                            d="M11,15a4,4,0,1,0-4-4A4,4,0,0,0,11,15Zm5-4a5,5,0,1,1-5-5A5,5,0,0,1,16,11Z"
                                            transform="translate(1151 3704)" fill-rule="evenodd" />
                                        <path id="Trazado_42" data-name="Trazado 42"
                                            d="M1,0A1,1,0,0,0,0,1V9a1,1,0,0,0,1,1H5.083a6.062,6.062,0,0,1,.258-1H3A2,2,0,0,0,1,7V3A2,2,0,0,0,3,1H13a2,2,0,0,0,2,2V6.528a6.02,6.02,0,0,1,1,1.154V1a1,1,0,0,0-1-1Z"
                                            transform="translate(1151 3704)" />
                                        <path id="Trazado_43" data-name="Trazado 43"
                                            d="M10,5.083,10,5A2,2,0,1,0,6.868,6.65,5.982,5.982,0,0,1,10,5.083Z"
                                            transform="translate(1151 3704)" />
                                        <path id="check"
                                            d="M8.847,4.906a.519.519,0,0,1,.74.726L6.828,9.084a.519.519,0,0,1-.747.014L4.25,7.268a.519.519,0,1,1,.733-.733L6.432,7.982l2.4-3.061.014-.015Z"
                                            transform="translate(1155.096 3707.994)" />
                                    </g>
                                </svg>
                            </div>
                            <div class="text-end" bis_skin_checked="1">
                                <h2 class="counter" style="visibility: visible;">{{numAspPaymentPaid}}</h2>
                                Pagados
                            </div>
                        </div>

                        <div class="mt-4">
                            <div class="text-center">{{percent}}%</div>
                            <div class="progress bg-soft-info shadow-none w-100" style="height: 6px">
                                <div class="progress-bar bg-info" data-toggle="progress-bar" role="progressbar"
                                    aria-valuenow="{{percent}}" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6" bis_skin_checked="1">
                <div class="card custom-height" bis_skin_checked="1">
                    <div class="card-body d-grid align-items-center" bis_skin_checked="1">
                        <div class="d-flex justify-content-between align-items-center" bis_skin_checked="1">
                            <div class="bg-soft-danger rounded p-3" bis_skin_checked="1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                                    <g id="Grupo_156" data-name="Grupo 156" transform="translate(-1132 -3704)">
                                        <path id="Trazado_47" data-name="Trazado 47"
                                            d="M7,9.32a.617.617,0,1,1,.617.617A.617.617,0,0,1,7,9.32Zm.061-3.708a.559.559,0,1,1,1.111,0L7.958,7.778a.341.341,0,0,1-.679,0Z"
                                            transform="translate(1135.378 3707.505)" />
                                        <path id="Trazado_44" data-name="Trazado 44"
                                            d="M11,15a4,4,0,1,0-4-4A4,4,0,0,0,11,15Zm5-4a5,5,0,1,1-5-5A5,5,0,0,1,16,11Z"
                                            transform="translate(1132 3704)" fill-rule="evenodd" />
                                        <path id="Trazado_45" data-name="Trazado 45"
                                            d="M1,0A1,1,0,0,0,0,1V9a1,1,0,0,0,1,1H5.083a6.062,6.062,0,0,1,.258-1H3A2,2,0,0,0,1,7V3A2,2,0,0,0,3,1H13a2,2,0,0,0,2,2V6.528a6.02,6.02,0,0,1,1,1.154V1a1,1,0,0,0-1-1Z"
                                            transform="translate(1132 3704)" />
                                        <path id="Trazado_46" data-name="Trazado 46"
                                            d="M10,5.083,10,5A2,2,0,1,0,6.868,6.65,5.982,5.982,0,0,1,10,5.083Z"
                                            transform="translate(1132 3704)" />
                                    </g>
                                </svg>
                            </div>
                            <div class="text-end" bis_skin_checked="1">
                                <h2 class="counter" style="visibility: visible;">{{numAspPaymentPending}}</h2>
                                Faltantes por pagar
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <!-- Tarjeta de Aspirantes que han hecho su pago-->
        <div class=" ">
            <div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card"
                            style="border-radius: 10px; box-shadow: 5px 5px 5px 5px rgba(0, 0, 0, 0.082);">
                            <div class="card-body">
                                <h5 class="card-title">Aspirantes que han hecho su pago</h5>
                                <!-- Barra de búsqueda y filtro -->
                                <div class="row ">
                                    <div class="col-lg-12 text-end p-2">
                                        <a class="btn btn-primary bg-soft-success"
                                            href="{{base_url('des-academico/aspirantes/exportar-reporte')}}"><svg
                                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px"
                                                height="50px">
                                                <path
                                                    d="M 28.875 0 C 28.855469 0.0078125 28.832031 0.0195313 28.8125 0.03125 L 0.8125 5.34375 C 0.335938 5.433594 -0.0078125 5.855469 0 6.34375 L 0 43.65625 C -0.0078125 44.144531 0.335938 44.566406 0.8125 44.65625 L 28.8125 49.96875 C 29.101563 50.023438 29.402344 49.949219 29.632813 49.761719 C 29.859375 49.574219 29.996094 49.296875 30 49 L 30 44 L 47 44 C 48.09375 44 49 43.09375 49 42 L 49 8 C 49 6.90625 48.09375 6 47 6 L 30 6 L 30 1 C 30.003906 0.710938 29.878906 0.4375 29.664063 0.246094 C 29.449219 0.0546875 29.160156 -0.0351563 28.875 0 Z M 28 2.1875 L 28 6.53125 C 27.867188 6.808594 27.867188 7.128906 28 7.40625 L 28 42.8125 C 27.972656 42.945313 27.972656 43.085938 28 43.21875 L 28 47.8125 L 2 42.84375 L 2 7.15625 Z M 30 8 L 47 8 L 47 42 L 30 42 L 30 37 L 34 37 L 34 35 L 30 35 L 30 29 L 34 29 L 34 27 L 30 27 L 30 22 L 34 22 L 34 20 L 30 20 L 30 15 L 34 15 L 34 13 L 30 13 Z M 36 13 L 36 15 L 44 15 L 44 13 Z M 6.6875 15.6875 L 12.15625 25.03125 L 6.1875 34.375 L 11.1875 34.375 L 14.4375 28.34375 C 14.664063 27.761719 14.8125 27.316406 14.875 27.03125 L 14.90625 27.03125 C 15.035156 27.640625 15.160156 28.054688 15.28125 28.28125 L 18.53125 34.375 L 23.5 34.375 L 17.75 24.9375 L 23.34375 15.6875 L 18.65625 15.6875 L 15.6875 21.21875 C 15.402344 21.941406 15.199219 22.511719 15.09375 22.875 L 15.0625 22.875 C 14.898438 22.265625 14.710938 21.722656 14.5 21.28125 L 11.8125 15.6875 Z M 36 20 L 36 22 L 44 22 L 44 20 Z M 36 27 L 36 29 L 44 29 L 44 27 Z M 36 35 L 36 37 L 44 37 L 44 35 Z" />
                                            </svg></a>
                                    </div>
                                </div>
                                <!--<p></p>-->
                                <div class="table-responsive">
                                    <!-- Tabla de datos -->
                                    <table id="datatable" class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th data-column-id="id" data-visible="false">id
                                                </th>
                                                <th data-column-id="numero_solicitud" data-sortable="false">Número de
                                                    Solicitud</th>
                                                <th data-column-id="nombre">Nombre</th>
                                                <th data-column-id="email" data-searchable="false"
                                                    data-sortable="false">
                                                    Correo electronico</th>
                                                <th data-column-id="curp" data-sortable="false">CURP
                                                </th>
                                                <!-- Otros encabezados de columna -->
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for aspirante in aspirantes %}
                                            <tr>
                                                <td>{{ aspirante.id}}</td>
                                                <td>{{ aspirante.noSolicitude }}</td>
                                                <td>{{ aspirante.name }}</td>
                                                <td>{{ aspirante.email }}</td>
                                                <td>{{ aspirante.curp }}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
<!-- JQuery -->
<script src="{{base_url('Vendor/Parsley/jquery-3.7.0.min.js')}}"></script>

<!-- Bootgrid -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.3.1/jquery.bootgrid.min.js"
    integrity="sha512-ut+jq2MDKjyWKK7rpEbyHjJ2kDBDO58DLFw4xJobqvS2kUgx4DJbj3OLjwk4F0pKtcxUoUIRS6esQVhh4fmWNA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script>
    $(document).ready(function () {
        var $tabla = $("#datatable").bootgrid({
            caseSensitive: false,
            ajax: false, // Desactivamos la solicitud AJAX
            labels: {
                noResults: "No hay resultados",
                loading: "Cargando...",
                infos: "Mostrando {{ctx.start}} al {{'{{ctx.end}}'}} de {{'{{ctx.total}}'}} registros",
                search: "Buscar",
                refresh: "Recarga",

            },
            pagination: true,
            rowCount: 10,
            searchSettings: {
                delay: 100,
                characters: 3,
                searchOnEnterKey: true,
                searchOnKeyPress: true,
            },
        });

        var $searchBar = $tabla.find(".actionBar");
        var $customButton = $(
            '<div class="my-custom-button"><button class="btn btn-primary">Mi Botón</button></div>'
        );

        $searchBar.append($customButton);

        // Agrega el manejo de eventos para el botón personalizado
        $customButton.find("button").on("click", function () {
            // Acción que deseas realizar al hacer clic en el botón personalizado
            // Por ejemplo, puedes ejecutar una función o redirigir a una página
            alert("Botón personalizado clicado");
        });


    });

</script>
{% endblock %}